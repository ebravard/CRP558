<!DOCTYPE html>
<html>
<head>
    <meta name="description" content="LA/CRP 458/558 Final Project">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Final Project</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
        integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
        crossorigin=""></script>
    
    <script src="../geojson/boundary.geojson"></script>
    <script src="../geojson/fieldBoundaries.geojson"></script>
    <script src="../geojson/streamReach.geojson"></script>
    <script src="../geojson/saturatedBuffers.geojson"></script>
    <script src="../geojson/bioreactors.geojson"></script>
    <script src="../geojson/grassWaterways.geojson"></script>
    <script src="../geojson/nutrientRemovalWetlands.geojson"></script>

    <style>
        body {
            width: 70%;
        }
        
        #map {
            width: 900px;
            height: 600px;
        }
        
    .navbar { 
        overflow: hidden;
        background-color: #333;
        font-family: Arial;
        padding-bottom: 20px;
}
        
    .navbar a {
        float: left;
        font-size: 16px;
        color: white;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
}
    </style>

</head>
    
<body>
    <div class="navbar">
        <a href="https://ebravard.github.io/CRP558/">Home</a></div>
    
       <h1 style="color: cornflowerblue">A Brief Look at the Watershed Conservation Planning</h1>
    
    <div id='map'></div><br>
    
    <!-- paragraph briefly describing map project -->
    <p>My graduate research focuses on developing, applying, and integrating multi-state financial data regarding water quality best management practices (BMPs) for use with the USDA Agricultural Conservation Planning Framework (ACPF). The ACPF uses high-resolution elevation data and a toolbox developed within ArcGIS to spatially identify areas within agricultural watersheds for implementing BMPs. Incorporating financial data into this process will support watershed management by assessing the economic cost factors associated with conservation planning. For this project, I simply focused on demonstrating what BMPs can be generated by the ACPF. The study area is the Upper Big Creek watershed located in Boone county, Iowa. <br>
    Shown in the map above, BMPs accounted for include grassed waterways, bioreactors, saturated buffers, nutrient removal wetlands, and saturated buffers. Each of these BMPs plays a different role in conservation for agricultural watersheds. Explore the list below to learn more about different best management practices: <br><br>
        <b>Bioreactors</b> are edge-of-field nitrogen management practices Often, they are a subsurface trench packed with a  carbon source, such as woodchips. They receive water drained from agricultural land in tile lines and convert nitrate in the drainage water into nitrogen gas.  Bioreactors have about a 43% nitrate-N reduction rate. Make sure that the <em>Bioreactors</em> layer is turned on and then click <button id = "bioBtn">here</button> to view a bioreactor on the map. <br><br>
        
        <b>Grassed Waterways</b> are constructed graded channels that are seeded to grass or other suitable vegetation. The vegetation slows the water and the grassed waterway conveys the water to a stable outlet at a non-erosive velocity. This practice is installed to reduce the risk of concentrated flow (gully) erosion. The grasses can reducemean velocity of runoff, which discourages soil detachment. Grass vegetation subjected to highwater velocity may be pushed to lie flat on the surface, and the flattened grass may then provide a physical barrier to prevent gully formation. The root systems of grasses lead to increased soil strength, which can limit detachment of soil particles that otherwise may be prone to occur with seepage from the soil surface under saturated conditions. Although grassed waterways are among the most common of conservation practices, they are somewhat under-utilized in many steeper farmed landscapes, and their capacity to reduce erosion under saturation excess runoff conditions may be under-appreciated. Grassed waterways are designed to convey runoff, and are not meant to trap sediment.
        Make sure that the <em>Grassed Waterways</em> layer is turned on and then click <button id = "gwwBtn">here</button> to view a grassed waterway on the map. <br><br>
        
        <b>Nutrient Removal Wetlands</b> are are designed to treat nitrate, phosphorus, and sediment. Wetlands slow the movement of water through a watershed, thus allowing sediment from runoff to settle and for denitrification of nitrate-nitrogen to occur.  Buffers of perennial vegetation are planted around wetlands to remove phosphorus and provide wildlife habitat.  Constructed wetlands are scaled according to the treatment drainage area (a range of 0.5-2% in wetland to watershed area ratio is standard). Nutrient removal wetlands have the potential to remove 40-90% of the nitrate in tile drainage, depending on the nitrate load intercepted by the wetland and the area of the wetland. 
        Make sure that the <em>Nutrient Removal Wetlands</em> layer is turned on and then click <button id = "nrwBtn">here</button> to view a nutrient removal wetland on the map. <br><br>
        
        <b>Saturated Buffers</b> are riparian buffers in which water from subsurface tile drainage is diverted through an installed water control structure  parallel to an existing riparian buffer.  The goal is to reduce nutrient and sediment loading from tile drainage and runoff. Saturated buffers have around a 50% nitrate-N reduction efficiency. Make sure that the <em>Saturated Buffers</em> layer is turned on and then click <button id = "satbuffBtn">here</button> to view a saturated buffer on the map. <br>
        
    <br>
    <!-- image -->
    <img src= "acpf.JPG" height="50" width="150" alt="USDA ACPF logo">
    <p>Source used to acquire the data for this map was the <a href="https://benson.gis.iastate.edu/ACPF/dwnldACPF.html">ACPF Watershed Database</a>.<br>
    Information regarding BMPs can be found on Iowa State's website about the <a href="https://www.nrem.iastate.edu/bmpcosttools/"> Nutrient Reduction Strategy Decision Support Tool</a>.<br>For more information about the making of this project, feel free to view my <a href="https://ebravard.github.io/CRP558/FinalProjectReport">Final Project Report</a>.</p>
    

    <script>
        
       var OSM = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox/streets-v11',
            //access token
            accessToken: 'pk.eyJ1IjoiZWJyYXZhcmQiLCJhIjoiY2s2c2RqbTZ1MDF4djNlcjRzcnE5YWF6MCJ9.h9xSTFWCxt-1PCf9oYGaMQ'
        });
        
        var Esri_WorldShadedRelief = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}', {
	           attribution: 'Tiles &copy; Esri &mdash; Source: Esri',
                maxZoom: 13
        });
        
        var OpenMapSurfer_Roads = L.tileLayer('https://maps.heigit.org/openmapsurfer/tiles/roads/webmercator/{z}/{x}/{y}.png', {
	       maxZoom: 19,
	       attribution: 'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        });
        
        var map = L.map('map', {
            center: [41.96, -93.81],
            zoom: 11,
            layers: [OSM, Esri_WorldShadedRelief]
        });
        
    var streamStyle = {
    "color": "blue",
    "weight": 1,
    "opacity": 0.65
    };
        
    var fbStyle = {
        "color":"blue",
        "weight": 0.5,
        "opacity": 0.8,
        "fillOpacity": 0.05
    };
     
    var bioStyle = {
        "color":"red",
        "weight": 2,
        "opacity": 0.8
    };
        
    var satbuffStyle = {
        "color":"green",
        "weight": 2,
        "opacity": 0.8
    };
        
    var nrwStyle = {
        "color":"orange",
        "weight": 1.5,
        "opacity": 0.8
    };
        
    var gwwStyle = {
        "color":"magenta",
        "weight": 1.5,
        "opacity": 0.8
    };
        

    var boundary = L.geoJSON(boundary).addTo(map);
    var streamReach = L.geoJSON(streamReach, {
        style: streamStyle
            }).addTo(map);
    var fieldBoundaries = L.geoJSON(fieldBoundaries, {
        style: fbStyle
            });
    var bioreactors = L.geoJSON(bioreactors, {
        style: bioStyle
            });
    var saturatedBuffers = L.geoJSON(saturatedBuffers, {
        style: satbuffStyle
            });
    var nutrientRemovalWetlands = L.geoJSON(nutrientRemovalWetlands, {
        style: nrwStyle
            });
    var grassWaterways = L.geoJSON(grassWaterways, {
        style: gwwStyle
            });
    
        
     var baseMaps = {
         "Streets": OSM,
         "Relief": Esri_WorldShadedRelief
     };
        
    var overlayMaps = {
        "Watershed Boundary": boundary,
        "Perennial Stream Reach": streamReach,
        "Field Boundaries": fieldBoundaries,
        "Bioreactors": bioreactors,
        "Grassed Waterways": grassWaterways,
        "Saturated Buffers": saturatedBuffers,
        "Nutrient Removal Wetlands": nutrientRemovalWetlands
    };
        
    L.control.layers(baseMaps, overlayMaps).addTo(map);
        
 //buttons to different areas of map
    document.getElementById("bioBtn").addEventListener("click", bio);
        function bio(){
            map.setView(new L.LatLng(41.944497796891817, -93.78298175511847), 13);
        };
        
    document.getElementById("gwwBtn").addEventListener("click", gww);
        function gww() {
            map.setView(new L.LatLng(42.056349877139681, -93.838735244019148), 13);
        };  
        
    document.getElementById("nrwBtn").addEventListener("click", nrw);
        function nrw() {
            map.setView(new L.LatLng(41.897418776759743, -93.732169399261949), 13);
        };
        
    document.getElementById("satbuffBtn").addEventListener("click", satbuff);
        function satbuff() {
            map.setView(new L.LatLng(41.925603839812339, -93.756709215945534), 13);
        };
        
    </script>

</body>
</html>
